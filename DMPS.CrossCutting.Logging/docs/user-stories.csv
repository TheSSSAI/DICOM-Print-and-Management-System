story_id,epic,title,user_role,description,priority,story_points,dependencies,acceptance_criteria_1,acceptance_criteria_2,acceptance_criteria_3,technical_tasks,definition_of_done
US-001,User Authentication & Session Management,User Login with Credentials,Registered System User,"As a Registered System User, I want to securely log in to the application using my unique username and password so that I can gain access to the system and use the features authorized for my specific role.",Must Have,8,US-008,"Given a user has valid and active credentials, When they enter their correct username and password and click 'Login', Then the system validates the credentials and displays the main application window with role-appropriate features.","Given a user enters a valid username but an incorrect password, When they click 'Login', Then the system displays a generic error message 'Invalid username or password' and the session is not started.","Given a user attempts to log in with a disabled account, When they enter their correct credentials, Then the system displays an error message 'Your account has been disabled. Please contact an administrator' and prevents login.",WI-009; WI-010; WI-011; WI-012; WI-013,"All acceptance criteria are met and have been validated. Code has been peer-reviewed. Unit and integration tests for the authentication service are passing with >80% coverage. A security review of the password handling has been completed. The feature has been deployed and verified in a staging environment."
US-002,Role-Based Access Control (RBAC) & Security,Role-Based Feature Access,System User,"As a System User, I want the application's features and UI controls to be enabled, disabled, or hidden based on my assigned role, so that I only see and can perform actions I am authorized for.",Must Have,8,US-001,"Given a user is logged in with the 'Technician' role, When they navigate the application, Then the 'Administration' section and the 'Edit DICOM Metadata' button are hidden or disabled.","Given a user is logged in with the 'Administrator' role, When they navigate the application, Then all features, including the 'Administration' section and 'Edit DICOM Metadata' button, are visible and enabled.","Given a 'Technician' user attempts to programmatically call an admin-only backend service method, When the call is made, Then the service rejects the request with an 'UnauthorizedAccessException' and the action is not performed.",WI-017; WI-018; WI-019,"All acceptance criteria are met. The authorization framework is implemented and applied to all relevant UI controls and backend services. Unit tests for the AuthorizationService are passing. E2E tests confirm correct UI state for both 'Technician' and 'Admin' roles. The feature is verified in a staging environment."
US-003,User Authentication & Session Management,Automatic Session Lock After Inactivity,System User,"As a System User, I want the application to automatically lock itself after a period of inactivity, so that sensitive Protected Health Information (PHI) is protected from unauthorized viewing on an unattended workstation.",Must Have,5,US-001,"Given a user is logged into the application, When the user performs no keyboard or mouse actions for 15 minutes, Then a modal lock screen is displayed, obscuring the entire application and prompting for a password.","Given a user is logged in, When the user performs any keyboard or mouse action within the application, Then the 15-minute inactivity timer is reset.","Given the session has locked due to inactivity while a study was open, When the session is later unlocked, Then the application state, including the open study and viewer settings, is perfectly preserved.",WI-014; WI-015,"All acceptance criteria are met. The activity monitor has a negligible performance impact. The session lock is triggered reliably after the configured timeout. The lock screen correctly overlays all application windows. The feature is verified in a staging environment."
US-004,User Authentication & Session Management,Unlock Session with Password,System User,"As a user whose session is locked, I want to re-enter my password to unlock the application, so that I can securely resume my work from exactly where I left off.",Must Have,5,US-003,"Given the application is locked, When the user enters their correct password and clicks 'Unlock', Then the lock screen is removed and the user can resume interaction with the application in its previous state.","Given the application is locked, When the user enters an incorrect password, Then an error message 'Invalid password' is displayed, the password field is cleared, and the session remains locked.","Given the application is locked after 4 failed unlock attempts, When the user enters an incorrect password for the 5th time, Then the user's session is terminated and the application returns to the main login screen.",WI-016,"All acceptance criteria are met. Successful and failed unlock attempts are logged to the audit trail. The application state is correctly restored after a successful unlock. The session termination on multiple failures is functioning correctly. The feature is verified in a staging environment."
US-005,User & System Administration,Forced Password Change After Reset,System User,"As a user whose password was reset by an admin, I want to be forced to create a new password upon my next login, so that my account is immediately secured with credentials known only to me.",Should Have,5,US-011,"Given a user logs in with a temporary password, When the authentication is successful, Then they are immediately directed to a non-dismissible 'Change Password' screen instead of the main application.","Given a user is on the forced 'Change Password' screen, When they enter a new password that meets the system's password policy, Then the password is updated, the temporary flag is cleared, and they are redirected to the main application.","Given a user is on the forced 'Change Password' screen, When they attempt to close the window or navigate elsewhere, Then the action is prevented and they remain on the 'Change Password' screen until a valid new password is set.",WI-024,"All acceptance criteria are met. The user is unable to bypass the password change screen. The new password is validated against the configured policy. Upon successful change, the temporary password is no longer valid. The feature is verified in a staging environment."
US-006,Role-Based Access Control (RBAC) & Security,Secure Data and Secrets Management,Administrator,"As an Administrator, I want the system to encrypt sensitive patient data in the database and store application secrets securely in the operating system, so that we comply with HIPAA and security best practices for protecting data at rest.",Must Have,13,US-001,"Given the application saves patient information to the database, When the database is inspected directly, Then all columns containing Protected Health Information (PHI) are encrypted via pgcrypto.","Given the application needs to connect to the database, When it starts up, Then it retrieves the database password from the secure Windows Credential Manager, not from a plaintext configuration file.","Given the installer runs a prerequisite check, When it tests the PostgreSQL connection, Then it must also verify that the `pgcrypto` extension is enabled on the target database before allowing the installation to complete.",WI-020; WI-021,"All acceptance criteria are met. A security review confirms that no secrets are stored in plaintext in config files or source code. Penetration testing confirms PHI columns in the database are unreadable without the decryption key. The installer prerequisite check functions correctly. The feature is verified in a staging environment."
US-007,User & System Administration,Admin Manages PACS Configuration,Administrator,"As an Administrator, I want to add, edit, delete, and verify remote PACS server configurations, so that our users can query and retrieve studies from external systems.",Should Have,5,US-002,"Given I am logged in as an Administrator in the 'Administration' section, When I navigate to the PACS configuration page, Then I can see a list of currently configured remote PACS servers.","Given I am on the PACS configuration page, When I add or edit a PACS entry with its AE Title, IP Address, and Port and click 'Save', Then the configuration is persisted.","Given I have selected a configured PACS server, When I click the 'Verify' button, Then the system performs a DICOM C-ECHO test asynchronously and displays a success or failure notification.",WI-026,"All acceptance criteria are met. The CRUD operations for PACS configuration are fully functional. The C-ECHO verification provides accurate feedback without blocking the UI. The configuration is successfully used by the Query/Retrieve feature. The feature is verified in a staging environment."
US-008,User & System Administration,Admin Creates a New User Account,Administrator,"As an Administrator, I want to create a new user account with a username, role, and a system-generated temporary password, so that I can provision access for new staff members.",Must Have,5,US-002; US-031,"Given I am an Administrator on the 'User Management' page, When I click 'Add User', enter a unique username, select a role, and confirm, Then a new user is created and a success notification displays the temporary password.","Given a new user account is created, When the user record is inspected in the database, Then it has a correctly hashed password and a flag is set to force a password change on their next login.","Given an attempt is made to create a user with a username that already exists, When the creation is submitted, Then the system prevents it and displays an error message 'Username already exists'.",WI-022; WI-023,"All acceptance criteria are met. The user creation is recorded in the audit trail. The temporary password and forced change flag function as expected. The uniqueness constraint on usernames is enforced. The feature is verified in a staging environment."
US-009,User & System Administration,Admin Edits a User's Role and Status,Administrator,"As an Administrator, I want to edit an existing user's role or account status (enabled/disabled), so that I can manage their permissions and access as their responsibilities change.",Should Have,3,US-008,"Given I am an Administrator on the 'User Management' page, When I select a user and change their role from 'Technician' to 'Administrator', Then their permissions are updated for their next session.","Given I am an Administrator on the 'User Management' page, When I disable a user's account, Then that user is immediately prevented from logging in.","Given I am an Administrator, When I attempt to edit my own role or status, or disable the last remaining administrator account, Then the system prevents the action and displays an explanatory error message.",WI-022; WI-023,"All acceptance criteria are met. All user modification events are recorded in the audit trail. Business rules preventing self-modification and last-admin disabling are enforced. A disabled user is unable to authenticate. The feature is verified in a staging environment."
US-010,User & System Administration,Admin Deletes a User Account,Administrator,"As an Administrator, I want to permanently delete a user account, so that I can revoke access for personnel who are no longer with the organization.",Should Have,2,US-008,"Given I am an Administrator on the 'User Management' page, When I select a user and click 'Delete' and confirm the action, Then the user account is permanently removed from the system.","Given a user account has been deleted, When the former user attempts to log in, Then access is denied with the standard 'Invalid username or password' message.","Given I am an Administrator, When I view the user list, Then the 'Delete' option for my own account and for the last remaining administrator account is disabled.",WI-022; WI-023,"All acceptance criteria are met. The user deletion event is recorded in the audit trail. The business rules preventing self-deletion and last-admin deletion are enforced. The feature is verified in a staging environment."
US-011,User & System Administration,Admin Resets a User's Password,Administrator,"As an Administrator, I want to reset a user's password, so that I can restore their access if they have forgotten it.",Must Have,3,US-008,"Given I am an Administrator on the 'User Management' page, When I select a user, click 'Reset Password', and confirm, Then a success notification is displayed containing a new, secure, system-generated temporary password.","Given a user's password has been reset, When the user's record is inspected in the database, Then their password hash has been updated and the 'force password change on next login' flag is set to true.","Given I am an Administrator, When I view the user list, Then the 'Reset Password' option for my own account is disabled.",WI-022; WI-023,"All acceptance criteria are met. The password reset event is recorded in the audit trail. The generated temporary password correctly triggers the forced password change workflow on the user's next login. The feature is verified in a staging environment."
US-012,User & System Administration,Admin Configures System Password Policy,Administrator,"As an Administrator, I want to configure the system-wide password policy, so that I can enforce security standards for all user accounts.",Should Have,3,US-002,"Given I am an Administrator in the 'Administration' section, When I navigate to the 'Password Policy' page, Then I see and can edit the settings for minimum length, complexity requirements (uppercase, lowercase, number, symbol), and password history.",Given a user is creating or changing their password, When they enter a new password, Then it is validated against the currently configured password policy.","Given an Administrator saves a new password policy, When the changes are submitted, Then the settings are persisted to the database and are enforced immediately for all subsequent password changes.",WI-025,"All acceptance criteria are met. The UI for policy configuration is functional. The system correctly enforces all configured password rules during user creation and password changes. The feature is verified in a staging environment."
US-013,User & System Administration,Admin Configures Data Retention Policy,Administrator,"As an Administrator, I want to configure an automatic data retention policy, so that old studies are purged from the system to manage storage space and comply with data governance rules.",Should Have,8,US-002; US-031,"Given I am an Administrator in the 'Administration' section, When I navigate to the 'Data Retention' page, Then I can configure a rule to permanently delete studies older than a specified period (e.g., 7 years).","Given a data retention policy is active, When the scheduled background task runs, Then all studies and their associated files older than the specified period are deleted.","Given the data purge task has completed, When I view the system audit trail, Then I see log entries for each auto-purged study, recording what was deleted and when.",WI-027; WI-028,"All acceptance criteria are met. The background service correctly identifies and deletes studies based on the policy. The file deletion and database record removal are atomic. All deletions are correctly logged in the audit trail. The feature is verified in a staging environment."
US-014,DICOM C-STORE SCP (Ingestion Pipeline),System Ingests DICOM Studies via C-STORE,Administrator,"As an Administrator, I want the system to function as a DICOM C-STORE SCP, so that external modalities can send studies directly to our application for storage and processing.",Should Have,13,US-001; US-013,"Given the background Windows Service is running, When an external DICOM SCU sends a study via C-STORE, Then the service accepts the connection and saves the DICOM files.","Given a study has been received via C-STORE, When the operation occurs, Then the SCP service immediately queues the study's metadata for processing and sends a success response to the SCU, without waiting for the database write to complete.","Given a study's metadata is in the processing queue, When the consumer processes it, Then the metadata is written to the PostgreSQL database and the files are moved to permanent storage, after which the queue message is acknowledged.",WI-029; WI-030; WI-031; WI-032,"All acceptance criteria are met. The system can handle at least 10 simultaneous C-STORE associations. The decoupled architecture functions correctly, providing fast responses to the SCU. Messages for failed persistence attempts are routed to a Dead-Letter Queue. The feature is verified with a DICOM test toolkit."
US-015,DICOM Query/Retrieve SCU & Storage Management,Query and Retrieve Studies from Remote PACS,Technician,"As a Technician, I want to query a remote PACS and retrieve selected studies to our local system, so that I can work with images that are not stored locally.",Should Have,8,US-007; US-014,"Given I am on the 'PACS Query' screen, When I enter search criteria (e.g., Patient ID, Study Date) and click 'Search', Then the system performs a DICOM C-FIND against the configured PACS and displays the results in a grid.","Given search results from a PACS are displayed, When I select one or more studies and click 'Retrieve', Then the system initiates a DICOM C-MOVE request to transfer the studies to our local application.","Given a C-MOVE retrieval is in progress, When the transfer occurs, Then the UI provides real-time feedback on the status, and the successfully retrieved studies appear in the local storage browser upon completion.",WI-040; WI-041,"All acceptance criteria are met. The C-FIND query correctly retrieves and displays results. The C-MOVE request successfully triggers the transfer to the application's C-STORE SCP. The UI remains responsive during these network operations. The feature is verified against a test PACS server."
US-016,DICOM Query/Retrieve SCU & Storage Management,Import DICOM Files via Drag-and-Drop,Technician,"As a Technician, I want to import DICOM studies by dragging and dropping files or folders onto the application, so that I can easily load studies from a CD or local drive.",Should Have,5,US-014,"Given the main application window is open, When I drag and drop DICOM files or a folder containing them onto the window, Then an import process is initiated.","Given an import is initiated for a study that already exists in the local database, When the duplicate Study Instance UID is detected, Then a dialog appears prompting me to 'Overwrite', 'Discard', or 'Save as New'.","Given an import operation completes, When files are processed, Then a summary report is displayed detailing which files were successfully imported and which, if any, were rejected due to non-compliance or errors.",WI-042,"All acceptance criteria are met. The import process correctly validates DICOM files. The duplicate handling logic functions as described. The import leverages the same asynchronous persistence pipeline as the C-STORE SCP. The feature is verified in a staging environment."
US-017,DICOM Query/Retrieve SCU & Storage Management,Browse and Search Local Studies,Technician,"As a Technician, I want to browse a list of all locally stored studies and search for specific ones, so that I can quickly find and open the study I need to work on.",Must Have,3,US-014,"Given I am on the 'Local Storage' screen, When the screen loads, Then a list of all studies stored in the system is displayed in a data grid.","Given I am on the 'Local Storage' screen, When I enter search criteria such as Patient Name, Study Date, or Modality and execute the search, Then the list is filtered to show only the matching studies.","Given a list of studies is displayed, When I double-click a study in the list, Then it opens in the DICOM viewer.",WI-043,"All acceptance criteria are met. The search functionality is performant and returns accurate results. The user can open studies from the search results. The feature is verified in a staging environment."
US-018,DICOM Viewer & Tools,View DICOM Images with High Performance,Technician,"As a Technician, I want to open and view DICOM images in a high-performance, GPU-accelerated viewer, so that I can interact with large studies smoothly and without lag.",Must Have,13,US-017,"Given I open a DICOM study, When the viewer loads, Then the images are rendered using DirectX for smooth performance.","Given I open a large, multi-frame series, When the viewer loads, Then it first displays a low-resolution preview for immediate responsiveness, and then loads the full-resolution data in the background.","Given an image is loaded, When I interact with it, Then standard tools like zoom and pan are fluid and responsive, even with large images.",WI-033; WI-034,"All acceptance criteria are met. Performance benchmarks confirm GPU acceleration is active. The progressive loading strategy ensures the UI is never blocked for more than 3 seconds when opening a study. The feature is verified with a variety of large DICOM datasets."
US-019,DICOM Viewer & Tools,Manipulate Image View,Technician,"As a Technician, I want a standard set of image manipulation tools, so that I can adjust the image presentation to better visualize anatomical details.",Must Have,8,US-018,"Given an image is open in the viewer, When I use the mouse, Then I can interactively zoom, pan, and adjust the Window/Level (WW/WL) settings in real-time.","Given an image is open in the viewer, When I use the toolbar, Then I can rotate the image in 90-degree increments and flip it horizontally or vertically.","Given a CT image is open, When I access the WW/WL presets menu, Then I can apply common settings like 'Lung', 'Bone', and 'Brain' with a single click.",WI-036; WI-037,"All acceptance criteria are met. All tools are intuitive and performant. WW/WL changes are smooth and interactive. Presets apply the correct values. The feature is verified in a staging environment."
US-020,DICOM Viewer & Tools,Arrange Viewer Layouts,Technician,"As a Technician, I want to arrange multiple images or series in flexible layouts, so that I can make comparisons and navigate studies efficiently.",Should Have,5,US-018,"Given a study is open in the viewer, When I view a series, Then a thumbnail panel is visible, displaying all images in the series for quick navigation.","Given two series are open, When I enable the side-by-side comparison mode, Then both series are displayed simultaneously.","Given I am in side-by-side comparison mode, When I enable the synchronization option, Then pan, zoom, and scroll actions are applied to both viewports simultaneously.",WI-035,"All acceptance criteria are met. The thumbnail panel allows for quick navigation. The side-by-side mode and synchronization features work as described. The feature is verified in a staging environment."
US-021,DICOM Viewer & Tools,Create and Save Annotations,Technician,"As a Technician, I want to create non-destructive annotations and measurements on images and save them, so that I can highlight findings and persist my work.",Should Have,8,US-019,"Given an image is open in the viewer, When I select an annotation tool, Then I can draw shapes like arrows, text boxes, and measure lengths and angles on the image.","Given I have created annotations, When I save them, Then the system creates a new DICOM Grayscale Softcopy Presentation State (GSPS) object, leaving the original image files unmodified.","Given I reopen a study that has saved annotations, When the study loads, Then the previously created annotations are automatically loaded from the GSPS object and displayed on the image.",WI-038; WI-039,"All acceptance criteria are met. The measurement tools display results in real-world units (mm). The annotations correctly scale and pan with the image. The GSPS objects are created correctly and can be reloaded. The feature is verified in a staging environment."
US-022,Printing & PDF Export Pipeline,Submit a Print Job Asynchronously,Technician,"As a Technician, I want to submit a print job to a background service, so that the application remains responsive and I can continue working while the document is being prepared and printed.",Must Have,8,US-001,"Given I have configured a print layout in the print preview, When I click 'Print', Then the application first checks if the background print service is running.","Given the print service is running, When I click 'Print', Then my print job is sent to a message queue and I receive a non-blocking notification that the 'Job has been queued'.","Given the print service is not running, When I view the print preview screen, Then the 'Print' button is disabled and a message indicates the service is unavailable.",WI-045; WI-046,"All acceptance criteria are met. The UI correctly reflects the status of the background service. Print jobs are reliably queued using RabbitMQ with persistent messages and a durable queue. The background service successfully consumes jobs and sends them to the Windows Print Spooler. The feature is verified."
US-023,Printing & PDF Export Pipeline,Manage and Monitor the Print Queue,Technician,"As a Technician, I want to view a print queue with the status of my submitted jobs, so that I can track their progress and manage them.",Should Have,5,US-022,"Given I have submitted one or more print jobs, When I navigate to the 'Print Queue' screen, Then I see a list of my jobs with their current status (e.g., Queued, Processing, Completed, Failed).","Given one of my jobs is in a 'Queued' state, When I select it, Then I have the option to cancel the job.","Given one of my jobs has a 'Failed' status, When I view it, Then a reason for the failure is displayed and I have an option to retry submitting the job.",WI-047,"All acceptance criteria are met. The print queue UI updates in near real-time. A standard user can only cancel their own jobs. An Administrator can view and manage all jobs. The retry mechanism functions correctly. The feature is verified in a staging environment."
US-024,Printing & PDF Export Pipeline,Configure Print Layout in Preview,Technician,"As a Technician, I want an interactive print preview with layout options, so that I can precisely control the appearance of the final printout.",Must Have,5,US-018,"Given I initiate a print action, When the print preview window opens, Then I see a WYSIWYG view of the page.","Given I am in the print preview, When I use the layout controls, Then I can select predefined templates (e.g., 2x2 grid on A4), set page orientation, adjust margins, and scale images.","Given a layout template is selected, When I interact with the preview, Then I can use drag-and-drop to manually rearrange the order and position of images within the grid.",WI-048,"All acceptance criteria are met. All layout options are functional and accurately reflected in the preview. Drag-and-drop rearrangement is intuitive and works correctly. The feature is verified in a staging environment."
US-025,Printing & PDF Export Pipeline,Add Branding and Dynamic Overlays to Prints,Technician,"As a Technician, I want to add branding and textual information to my printouts, so that they are professional and contain relevant metadata.",Could Have,3,US-024,"Given I am in the print preview window, When I use the branding options, Then I can upload a custom logo (PNG/JPEG) and configure its position and scale on the page.","Given I am in the print preview, When I add a custom text field, Then I can include dynamic variables like `[PatientName]` or `[StudyDate]` in the text.","Given I submit a print job with dynamic variables, When the background service processes the job, Then the variables are replaced with the correct DICOM metadata from the study before printing.",WI-049,"All acceptance criteria are met. The logo is rendered correctly on the final printout. The dynamic text variables are resolved accurately. The user can configure font, size, and color for the text fields. The feature is verified in a staging environment."
US-026,Printing & PDF Export Pipeline,Export Print Layout to Secure PDF,Technician,"As a Technician, I want to export my print layout as a secure PDF file, so that I can create a portable digital copy for sharing or archiving.",Should Have,5,US-024,"Given I have finalized a layout in the print preview, When I click 'Export to PDF', Then the system generates a PDF file that is compliant with the PDF/A-3 standard.","Given I am exporting to PDF, When the export options are presented, Then I have the option to encrypt the PDF with a user-provided password using AES-256 encryption.","Given the PDF is generated, When the export is initiated from the client, Then the actual PDF generation is offloaded to the background service to keep the UI responsive.",WI-050,"All acceptance criteria are met. The generated PDF is valid and matches the print preview. The password encryption is functional and secure. The asynchronous export process works correctly. The feature is verified in a staging environment."
US-027,Printing & PDF Export Pipeline,Email Print Output,Technician,"As a Technician, I want to send the print output via email directly from the application, so that I can efficiently share studies with collaborators.",Could Have,5,US-026,"Given I am an Administrator, When I navigate to the settings, Then I can configure the system's SMTP server settings (host, port, credentials).","Given I am in the print preview, When I choose to 'Send Email', Then I can compose an email and attach the output as either a single PDF file or as individual image files (JPEG/PNG).","Given I am sending an email containing PHI in the subject/body or as an unencrypted attachment, When I click 'Send', Then the system displays a modal warning dialog about the risk of sending unsecured PHI, requiring explicit confirmation to proceed.",WI-051,"All acceptance criteria are met. The SMTP configuration is functional. The email is sent successfully with the correct attachments. The security warning for unsecured PHI appears when appropriate and can be confirmed or cancelled. The feature is verified in a staging environment."
US-028,Auditing, Logging, and Monitoring,Admin Views and Exports Audit Trail,Administrator,"As an Administrator, I want to view a comprehensive audit trail of all significant system events, so that I can perform security reviews and investigate incidents.",Must Have,8,US-008,"Given I am logged in as an Administrator, When I navigate to the 'Audit Trail' viewer, Then I see a human-readable log of all auditable events, such as user creation, DICOM metadata edits, and password resets.","Given I am viewing the audit trail, When I use the filter controls, Then I can filter the log entries by user and by date range.","Given I have filtered the audit trail view, When I click the 'Export to CSV' button, Then the currently displayed log data is exported to a CSV file.",WI-052; WI-053; WI-054,"All acceptance criteria are met. All specified events (user management, metadata edits, etc.) are logged with the required details (who, what, when, old/new values). The filtering and CSV export functions work correctly. The feature is verified in a staging environment."
US-029,Auditing, Logging, and Monitoring,System Logs with PHI Redaction,Administrator,"As an Administrator, I want the system's application logs to automatically redact Protected Health Information (PHI), so that logs can be reviewed for troubleshooting without exposing sensitive patient data.",Must Have,5,US-001,"Given the application performs an operation involving a patient, When it writes a message to its log file (e.g., Serilog text file), Then any PHI like Patient Name or Patient ID in the log message is replaced with '[REDACTED]'.","Given the application encounters an error and writes to the Windows Event Log, When the event log entry is viewed, Then any PHI within the message is also redacted.","Given logging is configured, When I review the `appsettings.json` file, Then the logging sinks (file, Event Log) and PHI redaction logic are configured there.",WI-055,"All acceptance criteria are met. A review of log files and Windows Event Log entries confirms that PHI is consistently redacted. The redaction logic does not significantly impact logging performance. The feature is verified in a staging environment."
US-030,Auditing, Logging, and Monitoring,Admin Monitors System Health via Dashboard,Administrator,"As an Administrator, I want to view a System Health Dashboard, so that I can get a real-time overview of the status of all critical application components.",Should Have,5,US-001,"Given I am an Administrator in the 'Administration' section, When I open the 'System Health Dashboard', Then I see status indicators for the Windows Service, PostgreSQL connectivity, and RabbitMQ connectivity.","Given I am viewing the Health Dashboard, When I look at the queue metrics, Then I can see the current number of messages in the main processing queue and the dead-letter queue.","Given I am viewing the Health Dashboard, When I look at the storage metric, Then I see the available disk space at the DICOM storage location, and the indicator changes color (e.g., to yellow or red) if it crosses a configured warning threshold.",WI-056,"All acceptance criteria are met. The dashboard provides an accurate, near real-time status of all specified components. The status is retrieved from the background service without blocking the UI. The warning thresholds are configurable and work as expected. The feature is verified in a staging environment."
US-031,Auditing, Logging, and Monitoring,Admin Receives Critical Error Alerts via Email,Administrator,"As an Administrator, I want to receive email alerts for critical system errors, so that I can be proactively notified of issues that require my attention.",Could Have,3,US-030; US-027,"Given I am an Administrator, When I configure the system settings, Then I can specify a recipient email address for critical alerts.","Given a message fails processing multiple times and is sent to the dead-letter queue (DLQ), When this event occurs, Then the system automatically sends an alert email to the configured address.","Given a metric on the System Health Dashboard crosses its critical threshold (e.g., disk space < 5%), When this happens, Then the system automatically sends an alert email to the configured address.",WI-057,"All acceptance criteria are met. The email alert is sent reliably when a message enters the DLQ. The email alert is sent when a configured health threshold is breached. The feature uses the globally configured SMTP settings. The feature is verified in a staging environment."
US-032,Installation & Deployment,Install the Application,Administrator,"As an Administrator, I want to install the application using a standard MSIX installer, so that the deployment process is simple and reliable.",Must Have,8,US-001,"Given I run the signed MSIX installer package, When the installation process completes, Then the WPF client application is installed and the background 'DICOM Service' is registered and started in Windows Services.","Given the 'DICOM Service' is installed, When I inspect its properties in the Windows Services console, Then its recovery options are configured to 'Restart the Service' on first, second, and subsequent failures.","Given I uninstall the application via Windows 'Apps & features', When the process completes, Then both the client application and the Windows Service are completely removed.",WI-058; WI-060,"All acceptance criteria are met. The MSIX package installs and uninstalls cleanly. The Windows Service is correctly registered, started, and configured for automatic restart. The application can be launched successfully after installation. The process is verified on clean Windows 10 and Windows 11 machines."
US-033,Installation & Deployment,Configure System on First Run,Administrator,"As an Administrator, I want the application to guide me through an initial configuration on first run, so that I can ensure it's correctly connected to its required dependencies (PostgreSQL, RabbitMQ).",Must Have,5,US-032,"Given I have installed the application and run it for the first time, When the application launches, Then I am presented with a configuration screen that prompts for PostgreSQL and RabbitMQ connection details.","Given I am on the first-run configuration screen, When I enter the connection details and click 'Test', Then the application attempts to connect to both services and provides immediate success or failure feedback.","Given I am on the first-run configuration screen, When I try to save the configuration, Then the application will not let me proceed until it has successfully connected to both PostgreSQL (including verifying the `pgcrypto` extension) and RabbitMQ.",WI-059,"All acceptance criteria are met. The first-run experience is triggered correctly. The connection tests are accurate. The application state remains restricted until the initial configuration is successfully completed and saved. The feature is verified on a clean installation."