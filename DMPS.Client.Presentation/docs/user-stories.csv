story_id,epic,title,user_role,description,priority,story_points,dependencies,acceptance_criteria_1,acceptance_criteria_2,acceptance_criteria_3,technical_tasks,definition_of_done
US-001,"Core Architecture & Technical Foundation",Enable Responsive Asynchronous Operations,System User,"As a System User, I want long-running tasks like printing or data processing to happen in the background, so that the user interface remains responsive and I can continue my work without interruption.",Must Have,13,"","GIVEN a user initiates a long-running task (e.g., a print job), WHEN the task is submitted, THEN the UI immediately becomes available for other actions and a non-blocking confirmation is shown.","GIVEN the background service is not running, WHEN a user tries to check the status of a background task via a feature like Printing, THEN the UI gracefully disables the action and displays a 'Service Unavailable' message.","GIVEN a background task fails processing after several retries, WHEN the failure occurs, THEN the failed task is moved to a separate dead-letter queue for administrative review and does not block other tasks.",WI-001; WI-002; WI-003; WI-004,"All ACs met and verified. Unit tests for IPC and queuing mechanisms achieve >80% coverage. A test plan confirms messages persist broker restarts and are routed to the DLQ on failure. Deployed and verified in staging."
US-002,"User Authentication & Session Management",Log in to the Application,Registered User,"As a Registered User, I want to log in with my username and password, so that I can securely access the system and its features.",Must Have,5,US-005,"GIVEN I am on the login screen with a valid account, WHEN I enter my correct username and password, THEN I am authenticated and see the main application window.","GIVEN I am on the login screen, WHEN I enter an incorrect username or password, THEN I see a generic 'Invalid username or password' error message and remain on the login screen.","GIVEN my user account has been disabled, WHEN I attempt to log in with my correct credentials, THEN I am denied access and see a message stating my account is disabled.",WI-005; WI-006,"All ACs met and verified. Unit tests for AuthenticationService achieve >80% coverage. E2E UI test for login flow is passing. Security review of BCrypt password handling complete. Deployed and verified in staging."
US-003,"User Authentication & Session Management",Secure Session with Inactivity Lock,System User,"As a System User, I want the application to automatically lock after a period of inactivity, so that Protected Health Information (PHI) is protected from unauthorized viewing on an unattended workstation.",Must Have,8,US-002,"GIVEN I am logged in and have been inactive for the configured period (default 15 minutes), WHEN the inactivity timer expires, THEN the screen is covered by a lock overlay prompting for my password.","GIVEN the session is locked, WHEN I enter my correct password, THEN the lock screen is dismissed and I can resume my work from where I left off with the application state preserved.","GIVEN the session is locked, WHEN I enter an incorrect password, THEN an error message is displayed, the password field is cleared, and the session remains locked.",WI-008; WI-009,"All ACs met and verified. Unit tests for the session lock service are passing. E2E test confirms the lock screen appears, preserves state upon unlock, and handles incorrect passwords correctly. Deployed and verified in staging."
US-004,"Role-Based Access Control (RBAC) & Administration",View Features Based on Assigned Role,System User,"As a System User, I want to only see and be able to use the features and controls relevant to my assigned role, so that the system enforces security and prevents unauthorized actions.",Must Have,5,US-002,"GIVEN I am logged in as a 'Technician', WHEN I navigate the application, THEN the 'Administration' section and 'Edit DICOM Metadata' button are hidden or disabled.","GIVEN I am logged in as an 'Administrator', WHEN I navigate the application, THEN all features, including the 'Administration' section and 'Edit DICOM Metadata' button, are visible and enabled.","GIVEN I am logged in as a 'Technician', WHEN I attempt to access an admin-only function programmatically (e.g., via a crafted request), THEN the action is denied by the system's backend business logic and the attempt is logged.",WI-010,"All ACs met and verified. Unit tests for the AuthorizationService cover all role/permission combinations. E2E tests for both Technician and Admin roles confirm the correct UI state for all major features. Deployed and verified in staging."
US-005,"Role-Based Access Control (RBAC) & Administration",Create a New User Account,Administrator,"As an Administrator, I want to create a new user account with a username, role, and a temporary password, so that I can provision system access for new staff members.",Must Have,3,"US-004, US-007, US-017","GIVEN I am on the User Management page, WHEN I create a new user with a unique username and a role, THEN the user is created and I am shown a secure temporary password for them.","GIVEN I attempt to create a user with a username that already exists, WHEN I submit the form, THEN an error message is displayed stating the username is taken, and the user is not created.","GIVEN I have successfully created a new user, WHEN I check the audit trail, THEN a 'User Created' event is logged with my username, the new user's username, and a timestamp.",WI-011,"All ACs met and verified. Unit and integration tests confirm user creation, duplicate username prevention, and audit logging. E2E test flow for creating a Technician user is passing. Deployed and verified in staging."
US-006,"Role-Based Access Control (RBAC) & Administration",Manage an Existing User's Account,Administrator,"As an Administrator, I want to edit a user's role, disable/enable their account, or delete their account, so that I can maintain access control in line with personnel changes.",Should Have,3,US-005,"GIVEN I am on the User Management page, WHEN I change a user's role from 'Technician' to 'Administrator' and save, THEN their permissions are updated and the change is logged in the audit trail.","GIVEN I am on the User Management page, WHEN I delete a user's account and confirm the action, THEN the user is permanently removed from the system and can no longer log in.","GIVEN I am on the User Management page, WHEN I view the user list, THEN the options to edit or delete my own account, or the last remaining administrator account, are disabled.",WI-011,"All ACs met and verified. Unit tests cover business rules (no self-delete, no last admin delete). E2E tests for editing a role and deleting a user are passing. Audit trail entries are verified for all actions. Deployed and verified in staging."
US-007,"User Authentication & Session Management",Set a New Password After an Admin Reset,System User,"As a System User whose password was reset by an admin, I want to be forced to create a new, private password on my next login, so that my account is immediately secured.",Must Have,5,"US-002, US-005","GIVEN my account is flagged for a password reset, WHEN I log in with the temporary password, THEN I am immediately taken to a non-dismissible 'Change Password' screen.","GIVEN I am on the 'Change Password' screen, WHEN I enter a new password that meets the system's policy, THEN my password is updated, the reset flag is cleared, and I am granted access to the main application.","GIVEN I am on the 'Change Password' screen, WHEN I attempt to close the screen or navigate away, THEN the action is blocked and I must complete the password change to proceed.",WI-007,"All ACs met and verified. Unit tests for password policy validation are passing. E2E test of the complete flow (admin reset -> user login -> forced change -> new login) is successful. Deployed and verified in staging."
US-008,"Role-Based Access Control (RBAC) & Administration",Configure System-Wide Settings,Administrator,"As an Administrator, I want to access a central settings area to configure PACS connections, data retention, password policies, and storage paths, so that I can tailor the system to my organization's operational needs and policies.",Should Have,8,US-004,"GIVEN I am on the PACS Configuration page, WHEN I enter valid AE Title, IP, and Port and click 'Verify', THEN the system performs a DICOM C-ECHO test and shows a success or failure message.","GIVEN I am on the Data Retention page, WHEN I set the auto-purge period to 5 years and save, THEN the system will schedule a background task to permanently delete studies older than 5 years.","GIVEN I am on the Password Policy page, WHEN I set the minimum password length to 14 characters and save, THEN all future user password changes must adhere to this new policy.",WI-012,"All ACs met and verified. Integration tests confirm that saving settings persists them to the database and that validation functions (e.g., C-ECHO, path writability) work correctly. Deployed and verified in staging."
US-009,"DICOM Data Management & Storage",Automatically Receive and Store Studies from Modalities,System,"As the System, I want to listen for and receive DICOM studies sent from imaging modalities (C-STORE SCP), so that new imaging data is automatically ingested and stored reliably without manual intervention.",Must Have,13,US-001,"GIVEN the background service is running, WHEN a DICOM modality sends a study via C-STORE, THEN the system accepts the study and stores the files in a temporary location.","GIVEN a study is received, WHEN the reception is complete, THEN a message is queued for a background worker which then writes the study's metadata to the database and moves the files to a permanent, structured folder path.","GIVEN multiple modalities are sending data simultaneously, WHEN the system is under high load, THEN it can process at least 10 concurrent associations without data loss and without impacting the responsiveness of the client UI.",WI-013; WI-014; WI-016,"All ACs met and verified. Integration tests with a DICOM test tool (SCU) confirm successful C-STORE operations. Performance testing validates the system meets the concurrent association target. Deployed and verified in staging."
US-010,"DICOM Data Management & Storage",Query and Retrieve Studies from a Remote PACS,Technician,"As a Technician, I want to search for studies on a remote PACS and retrieve them to my local system, so that I can view or work with prior imaging for a patient.",Should Have,5,"US-008, US-009","GIVEN I am on the PACS Query screen, WHEN I enter a Patient ID and search against a configured PACS, THEN a list of matching studies from the remote PACS is displayed.","GIVEN a list of search results is displayed, WHEN I select one or more studies and click 'Retrieve', THEN the system initiates a C-MOVE request to import the studies into the local system.","GIVEN a retrieval is in progress, WHEN I view the UI, THEN I can see the real-time status of the transfer, including progress notifications (e.g., images remaining) and a final success or failure message.",WI-015,"All ACs met and verified. Integration testing against a test PACS server confirms C-FIND and C-MOVE functionality. The UI is verified to be asynchronous and provide status feedback. Deployed and verified in staging."
US-011,"DICOM Data Management & Storage",Import DICOM Studies from Files or Folders,Technician,"As a Technician, I want to import DICOM studies by dragging and dropping files or folders from a CD or USB drive into the application, so that I can easily ingest patient data from external media.",Should Have,5,US-009,"GIVEN I have a folder of DICOM files, WHEN I drag and drop it onto the main application window, THEN the system begins processing the import asynchronously.","GIVEN an imported study already exists in the local database, WHEN the system detects the duplicate Study Instance UID, THEN I am prompted with a modal dialog to 'Overwrite', 'Discard', or 'Save as New'.","GIVEN the import contains non-DICOM or corrupt files, WHEN the import completes, THEN I am shown a non-blocking notification and a summary report is available detailing which files were successfully imported and which were rejected.",WI-017,"All ACs met and verified. E2E tests confirm drag-and-drop of both single files and folders. The conflict resolution dialog is tested for all three options. Deployed and verified in staging."
US-012,"DICOM Viewer & Tools",View and Manipulate DICOM Images,Technician,"As a Technician, I want a high-performance viewer to open and interact with DICOM images, using tools like zoom, pan, and window/level, so that I can perform quality checks and prepare images for use.",Must Have,21,"","GIVEN I open a large DICOM study (>500MB), WHEN the viewer loads, THEN the image is displayed in under 3 seconds using a progressive loading strategy (low-res preview first).","GIVEN an image is displayed, WHEN I use my mouse, THEN I can interactively zoom (10%-800%), pan, and adjust the window/level settings with a smooth, GPU-accelerated response.","GIVEN I open a CT study, WHEN the image is first displayed, THEN an appropriate default window/level preset (e.g., 'Abdomen' or 'Lung') is automatically applied based on modality.",WI-019; WI-020,"All ACs met and verified. Performance testing on target hardware confirms loading times and interactive responsiveness. A test suite of various DICOM modalities confirms correct rendering and preset application. Deployed and verified in staging."
US-013,"DICOM Viewer & Tools",Annotate and Measure on DICOM Images,Technician,"As a Technician, I want to draw annotations and take measurements on an image, and save them non-destructively, so that I can highlight findings or record key metrics.",Should Have,8,US-012,"GIVEN I am viewing an image, WHEN I select the 'length' tool and draw a line, THEN the measurement is displayed on the image in real-world units (e.g., mm) based on the DICOM metadata.","GIVEN I have added annotations (arrows, text, measurements) to a series, WHEN I click 'Save Annotations', THEN the system creates a new DICOM Grayscale Softcopy Presentation State (GSPS) object without modifying the original image files.","GIVEN I re-open a study that has saved annotations, WHEN the images are displayed, THEN the previously saved annotations are automatically loaded from the GSPS object and displayed on the correct images.",WI-021,"All ACs met and verified. Unit tests validate measurement calculation logic. E2E tests confirm creation and subsequent loading of GSPS objects. The original DICOM files are verified to be unchanged after saving annotations. Deployed and verified in staging."
US-014,"DICOM Viewer & Tools",Arrange Viewer Layout with Hanging Protocols,Technician,"As a Technician, I want to define and apply custom display layouts (hanging protocols), so that I can efficiently review studies by arranging series in a consistent and preferred manner.",Could Have,5,"US-012, US-008","GIVEN I am viewing a study, WHEN I select a saved '2x2 grid' hanging protocol from a menu, THEN the viewer reorganizes to display four series simultaneously in the grid.","GIVEN I am an Administrator, WHEN I configure a system-wide rule to apply a specific protocol based on Modality='CT', THEN opening any CT study will automatically apply that layout without user intervention.","GIVEN I am a logged-in user, WHEN I arrange the viewports into a custom layout, THEN I can save this layout with a name for personal use in future sessions.",WI-022,"All ACs met and verified. E2E tests confirm manual and automatic application of hanging protocols. User-specific protocols are verified to persist between sessions for the correct user. Deployed and verified in staging."
US-015,"Printing & Exporting",Print DICOM Images with Custom Layouts,Technician,"As a Technician, I want to print DICOM images on a standard office printer, with options to control the layout, add branding, and manage print jobs, so that I can create physical copies for records or consultation.",Should Have,8,US-001,"GIVEN I have selected images to print, WHEN I open the Print Preview window, THEN I can select a layout (e.g., '2x2 grid on A4'), adjust margins, and see an accurate preview of the final output.","GIVEN I have configured the layout, WHEN I click 'Print', THEN the print job is sent to a background queue, a non-blocking 'Print job queued' notification appears, and I can immediately continue working in the application.","GIVEN I am in the print preview, WHEN I add a text overlay with a dynamic variable like '[PatientName]', THEN the final printed output correctly replaces the variable with the actual patient's name from the DICOM metadata.",WI-023; WI-024,"All ACs met and verified. E2E tests confirm the print preview accurately reflects the final printed document for all layout and overlay options. The asynchronous nature of the job submission is verified. Deployed and verified in staging."
US-016,"Printing & Exporting",Monitor and Manage the Print Queue,Technician,"As a Technician, I want to view a print queue to see the status of my submitted jobs and cancel them if needed, so that I have visibility and control over the printing process.",Could Have,3,US-015,"GIVEN I have submitted a print job, WHEN I open the Print Queue view, THEN I can see my job listed with a status of 'Queued' or 'Processing'. An Admin can see all jobs.","GIVEN my print job is in the 'Queued' state, WHEN I click the 'Cancel' button for my job, THEN the job is removed from the queue and is not printed.","GIVEN a print job fails because the printer is offline, WHEN I view the queue, THEN the job status is 'Failed' with a descriptive reason, and a 'Retry' button is available.",WI-025,"All ACs met and verified. E2E tests confirm that Technicians can see and cancel their own jobs, while Admins can manage all jobs. The 'Retry' functionality for failed jobs is tested. Deployed and verified in staging."
US-017,"Security & Compliance",Review a Comprehensive Audit Trail of System Events,Administrator,"As an Administrator, I want to view a detailed, filterable audit trail of all significant system events, so that I can investigate security incidents and ensure HIPAA compliance.",Must Have,8,US-004,"GIVEN another administrator has changed a user's role, WHEN I view the audit trail, THEN I see a log entry detailing who made the change, which user was changed, the old value ('Technician') and new value ('Administrator'), and a timestamp.","GIVEN I am viewing the audit trail, WHEN I filter by a specific user and a date range, THEN the list updates to show only the events that match all my criteria.","GIVEN I have a filtered view of the audit trail, WHEN I click 'Export to CSV', THEN a valid CSV file is generated containing the currently displayed log data, including headers.",WI-026; WI-027,"All ACs met and verified. Integration tests confirm that all specified auditable actions (user management, DICOM edits, etc.) create correct log entries. E2E test of the viewer, filtering, and CSV export is successful. Deployed and verified in staging."
US-018,"Security & Compliance",Protect Sensitive Data at Rest and in Configuration,Security Officer,"As a Security Officer, I want all Protected Health Information (PHI) in the database to be encrypted and all system passwords to be stored securely, so that the system complies with HIPAA and is protected against data breaches.",Must Have,8,"","GIVEN I inspect the PostgreSQL database directly using a tool like pgAdmin, WHEN I look at a column containing a patient's name, THEN the data is in an encrypted, unreadable format.","GIVEN the application is running, WHEN it connects to the database, THEN it can successfully read and write the encrypted PHI data transparently without any special handling in the application logic.","GIVEN I inspect the application's configuration files (e.g., appsettings.json) on disk, WHEN I search for passwords for the database or SMTP server, THEN no plaintext passwords are found because they are stored in the Windows Credential Manager.",WI-028; WI-029,"All ACs met and verified. Database inspection confirms column-level encryption. A security code review verifies that secrets are read from the Windows Credential Manager and not config files. Deployed and verified in staging."
US-019,"Security & Compliance",Anonymize DICOM Studies for Research or Training,Technician,"As a Technician, I want to create a de-identified copy of a DICOM study, so that I can safely use the imaging data for research, training, or support without exposing Protected Health Information (PHI).",Could Have,5,"","GIVEN I have selected a study, WHEN I apply the 'Full De-ID' anonymization profile, THEN a new copy of the study is created with all patient-identifying tags removed or replaced according to HIPAA Safe Harbor rules, and the original study is untouched.","GIVEN I am anonymizing an image with text burned into the pixels, WHEN I draw a blackout rectangle over the text, THEN a new DICOM series is created containing the modified image, leaving the original series unmodified.","GIVEN I have performed an anonymization, WHEN I review the generated summary report, THEN it details all the changes that were made to the copied study.",WI-030,"All ACs met and verified. A DICOM validation tool is used to confirm that the output of the 'Full De-ID' profile is compliant. The non-destructive nature of all anonymization actions is verified. Deployed and verified in staging."
US-020,"System Operations & Monitoring",Monitor System Health and Receive Critical Alerts,Administrator,"As an Administrator, I want to view a real-time health dashboard and receive automatic email alerts for critical issues, so that I can proactively monitor the system's status and respond quickly to problems.",Should Have,8,US-008,"GIVEN I am on the System Health Dashboard, WHEN the background service is running and all connections are healthy, THEN I see green status indicators for the Windows Service, PostgreSQL, and RabbitMQ.","GIVEN the disk space for DICOM storage falls below a configured critical threshold, WHEN this occurs, THEN an email alert is automatically sent to the configured administrator address with details about the issue.","GIVEN a message fails processing repeatedly and is sent to the dead-letter queue (DLQ), WHEN I view the dashboard, THEN the DLQ count is shown as greater than zero, and an email alert has been triggered.",WI-031; WI-032,"All ACs met and verified. E2E tests confirm the dashboard accurately reflects the state of mocked and real services. Alerting is tested by triggering threshold conditions (e.g., low disk space, message in DLQ). Deployed and verified in staging."
US-021,"Installation & Deployment",Install and Configure the Application and its Services,System Installer,"As a System Installer, I want a single, reliable installer package that deploys the client application, installs the background service, and validates its dependencies, so that I can set up the system correctly and efficiently.",Must Have,8,"","GIVEN I run the signed MSIX installer on a clean machine, WHEN the installation completes, THEN the WPF client application is in the Start Menu and the 'DICOM Service' is registered, set to automatic start, and running in Windows Services.","GIVEN I am running the installer for the first time, WHEN I am prompted for PostgreSQL and RabbitMQ connection details, THEN the installer verifies connectivity to both services before allowing the installation to finish.","GIVEN I provide connection details to a PostgreSQL database where the `pgcrypto` extension is not enabled, WHEN the installer performs its prerequisite checks, THEN the installation is blocked with a clear error message indicating the missing extension.",WI-033; WI-034; WI-035,"All ACs met and verified. The full installation process is successfully tested on a clean Windows virtual machine. All prerequisite checks (DB/MQ connectivity, pgcrypto) are verified to block installation on failure. Deployed and verified in staging."