story_id,epic,title,user_role,description,priority,story_points,dependencies,acceptance_criteria_1,acceptance_criteria_2,acceptance_criteria_3,technical_tasks,definition_of_done
US-001,"EPIC-003: User Authentication & Authorization",User Login to the Application,Registered System User,"As a Registered System User, I want to securely log in to the application using my username and password, so that I can gain access to the features authorized for my role.",Must Have,8,US-010,"Given a user has a valid and active account, When they enter their correct username and password, Then the system validates the credentials and displays the main application window.","Given a user has a valid account, When they enter their correct username but an incorrect password, Then the system displays a non-specific error message ""Invalid username or password."" and the password field is cleared.","Given a user attempts to log in with a disabled account, When they enter their correct credentials, Then the system displays an error message ""Your account has been disabled. Please contact an administrator."" and prevents login.",WI-011; WI-012,"Code reviewed and peer-approved; All acceptance criteria are met and validated; Unit tests achieve >80% coverage for new logic; E2E login scenarios for all user roles are passing; Feature is deployed and verified in the staging environment; Passwords are confirmed to be stored using BCrypt hashing."
US-002,"EPIC-003: User Authentication & Authorization",Secure Feature Access Based on Role,System User,"As a system user, I want the application's features and UI controls to be enabled or disabled based on my assigned role, so that I only see and can perform actions I am authorized for.",Must Have,8,US-001,"Given a user is logged in with the 'Technician' role, When they navigate the application, Then the 'Administration' area and 'Edit DICOM Metadata' button must be hidden or disabled.","Given a user is logged in with the 'Administrator' role, When they navigate the application, Then all features, including the 'Administration' area and 'Edit DICOM Metadata' button, must be visible and enabled.","Given a 'Technician' user attempts to programmatically invoke an admin-only function, When the call is made, Then the backend must reject the request with an authorization error.",WI-013,"Code reviewed and peer-approved; All acceptance criteria are met and validated; Unit tests achieve >80% coverage for the authorization logic; UI state is verified for all roles via manual or automated testing; Feature is deployed and verified in the staging environment."
US-003,"EPIC-009: Security & Compliance",Automatic Session Lock on Inactivity,System User,"As a system user, I want the application to automatically lock itself after a period of inactivity, so that sensitive Protected Health Information (PHI) is protected on an unattended workstation.",Must Have,8,US-001,"Given a user is logged in and the inactivity timeout is 15 minutes, When the user performs no keyboard or mouse actions for 15 minutes, Then a modal lock screen overlay is displayed, obscuring the application.","Given the session is locked, When the user enters their correct password and clicks 'Unlock', Then the lock screen is removed and the application is restored to its exact pre-lock state.","Given the session is locked, When the user enters an incorrect password, Then an error message is displayed, the password field is cleared, and the session remains locked.",WI-035,"Code reviewed and peer-approved; All acceptance criteria are met and validated; Unit tests achieve >80% coverage for the inactivity monitoring and locking logic; The feature is tested to ensure application state is preserved; Feature is deployed and verified in the staging environment."
US-004,"EPIC-010: External Integrations & Licensing",Validate Application License on Startup,Administrator,"As an Administrator, I want the application to validate its license on startup, so that I can ensure we are compliant with licensing terms and the application functions correctly based on the license state.",Must Have,13,US-001,"Given the application has a valid license, When it starts up and successfully contacts the Odoo API, Then it runs in a fully functional mode.","Given the Odoo API is unreachable on startup, When the application starts, Then it enters a fully functional 72-hour grace period and notifies the user.","Given the license is invalid or the grace period has expired, When the application starts, Then it enters a restricted, read-only mode where functions like printing and exporting are disabled.",WI-036; WI-037,"Code reviewed and peer-approved; All acceptance criteria are met and validated for all licensing states (valid, invalid, grace period, read-only); Unit tests cover the state machine logic; Feature is deployed and verified in the staging environment against a mock API."
US-005,"EPIC-002: Inter-Process Communication (IPC) Backbone",Check Background Service Availability,System User,"As a user, I want the application to know if the background print/processing service is running, so that I am prevented from starting tasks that are destined to fail.",Must Have,5,,"Given the background Windows Service is running, When the WPF client checks its status, Then it receives a positive 'Running' confirmation.","Given the background Windows Service is stopped, When the WPF client checks its status, Then it receives a 'Not Running' or timeout error within a few seconds.","Given the background service is unavailable, When the user navigates to the print preview screen, Then the 'Print' button is disabled and a notification indicates the service is unavailable.",WI-009; WI-010; WI-027,"Code reviewed and peer-approved; All acceptance criteria are met and validated; Integration tests for the Named Pipe communication are passing; UI elements correctly reflect the service status; Feature is deployed and verified in the staging environment."
US-006,"EPIC-004: DICOM Core Functionality (SCP/SCU)",Automatically Receive and Store Incoming DICOM Studies,Administrator,"As an Administrator, I want the system to listen for and automatically process incoming DICOM studies via C-STORE, so that data can be received from modalities and other PACS without manual intervention.",Must Have,13,US-013; US-014,"Given the system is running, When a remote modality sends a DICOM study via a C-STORE request, Then the background service accepts the connection and receives the files.","Given a DICOM study has been received, When the C-STORE operation completes, Then the DICOM metadata is published as a message to a RabbitMQ queue for database processing.","Given the C-STORE SCP is under high load, When multiple studies are received simultaneously, Then the service remains responsive and processes all studies without data loss, returning C-STORE success responses quickly.",WI-014; WI-015,"Code reviewed and peer-approved; All acceptance criteria are met and validated using a DICOM test tool; Integration tests verify file storage and RabbitMQ message publication; Load testing confirms the SCP can handle at least 10 simultaneous associations; Feature is deployed and verified in the staging environment."
US-007,"EPIC-004: DICOM Core Functionality (SCP/SCU)",Query a Remote PACS and Retrieve Studies,Technician,"As a Technician, I want to search a remote PACS by patient or study criteria and retrieve selected studies to the local system, so that I can access prior imaging for comparison or review.",Must Have,13,US-006; US-009,"Given I am on the Query/Retrieve screen, When I enter valid search criteria and execute a search against a configured PACS, Then a list of matching studies is displayed in the results grid.","Given that search results are displayed, When I select one or more studies and click 'Retrieve', Then the system initiates a C-MOVE request to the remote PACS.","Given a C-MOVE request was initiated, When the remote PACS sends the studies, Then they are received by the local C-STORE SCP and become available in the local study list.",WI-016; WI-017,"Code reviewed and peer-approved; All acceptance criteria are met and validated against a test PACS; Unit tests cover the C-FIND and C-MOVE service logic; The UI remains responsive during network operations; Feature is deployed and verified in the staging environment."
US-008,"EPIC-008: Administration & Configuration",View System Health Dashboard,Administrator,"As an Administrator, I want to view a real-time health dashboard, so that I can quickly assess the operational status of the service, database, message queue, and storage.",Should Have,8,US-005,"Given I am on the 'System Health' page as an Administrator, When the page loads, Then the status of the Windows Service, PostgreSQL connectivity, and RabbitMQ connectivity are displayed correctly.","Given the dashboard is open, When a message is added to the main processing queue or the dead-letter queue, Then the message count on the dashboard updates automatically or on a frequent refresh interval.","Given the dashboard is open, When disk space at the DICOM storage location is low, Then the 'Disk Space' indicator changes color to show a warning or critical state based on configured thresholds.",WI-032,"Code reviewed and peer-approved; All acceptance criteria are met and validated; The dashboard accurately reflects the state of all monitored components in real-time; The UI is clear and easy to understand; Feature is deployed and verified in the staging environment."
US-009,"EPIC-008: Administration & Configuration",Manage Remote PACS Configurations,Administrator,"As an Administrator, I want to add, edit, remove, and verify connections to remote PACS servers, so that technicians can query and retrieve studies from authorized sources.",Must Have,5,US-007,"Given I am on the 'PACS Configuration' page, When I enter the AE Title, IP, and Port for a new PACS and click 'Save', Then the new configuration is persisted and appears in the list.","Given a PACS is configured in the list, When I click the 'Verify' button, Then the system performs a DICOM C-ECHO test and displays a 'Success' or 'Failure' message.","Given an existing PACS configuration needs to be changed, When I edit its details and click 'Save', Then the record is updated in the database with the new information.",WI-031,"Code reviewed and peer-approved; All acceptance criteria are met and validated; CRUD operations for PACS configurations work as expected; The C-ECHO verification provides accurate feedback; Feature is deployed and verified in the staging environment."
US-010,"EPIC-008: Administration & Configuration",Manage User Accounts,Administrator,"As an Administrator, I want to create, edit, and delete user accounts, so that I can manage system access for all personnel.",Must Have,8,US-001; US-002,"Given I am on the 'User Management' page, When I click 'Add User', fill in the details, and select a role, Then a new user account is created with a temporary password displayed to me.","Given an existing user is listed, When I change their role from 'Technician' to 'Administrator' and save, Then their permissions are updated accordingly for their next session.","Given an existing user is listed, When I click 'Delete' and confirm the action, Then the user account is permanently removed from the system.",WI-030,"Code reviewed and peer-approved; All acceptance criteria are met and validated; Admins are prevented from deleting or disabling the last admin account or their own account; All user management actions are logged in the audit trail; Feature is deployed and verified in the staging environment."
US-011,"EPIC-009: Security & Compliance",View and Export Audit Trail,Administrator,"As an Administrator, I want to view a comprehensive audit trail of significant system events, so that I can investigate security incidents and ensure compliance.",Must Have,5,US-001; US-002,"Given significant events like user creation or DICOM metadata edits have occurred, When I navigate to the 'Audit Trail' viewer, Then I can see a chronological list of all logged events.","Given the audit trail is displayed, When I filter the log by a specific user and a date range, Then the list updates to show only the events that match my criteria.","Given the audit trail is filtered, When I click the 'Export to CSV' button, Then a CSV file is generated containing only the currently displayed log entries.",WI-033; WI-034,"Code reviewed and peer-approved; All acceptance criteria are met and validated; The audit trail accurately records all specified events (user management, DICOM edits, etc.); Filtering and export functions work correctly; Feature is deployed and verified in the staging environment."
US-012,"EPIC-006: DICOM Viewer Implementation",View DICOM Images with High Performance,Technician,"As a Technician, I want to open and view large DICOM studies quickly with GPU acceleration, so that my diagnostic workflow is fluid and not interrupted by loading or rendering delays.",Must Have,21,,"Given I open a large DICOM study (e.g., 500+ CT slices), When the viewer loads, Then a low-resolution preview is displayed in under 3 seconds to ensure immediate responsiveness.","Given the preview is displayed, When the system loads data in the background, Then the full-resolution image replaces the preview seamlessly, and I can scroll through all slices smoothly.","Given I am viewing an image, When I interact with it (e.g., pan, zoom), Then the rendering is smooth and fluid, utilizing the GPU for high performance.",WI-021; WI-022,"Code reviewed and peer-approved; All acceptance criteria are met and validated on target hardware; Performance targets for loading and rendering are met; The viewer correctly displays both monochrome and color images; Feature is deployed and verified in the staging environment."
US-013,"EPIC-006: DICOM Viewer Implementation",Manipulate Images with Standard Viewer Tools,Technician,"As a Technician, I want to use a standard set of tools like zoom, pan, rotate, and window/level, so that I can effectively inspect and manipulate images for clinical review.",Must Have,8,US-012,"Given a DICOM image is open in the viewer, When I drag the mouse while holding a specific button, Then I can interactively adjust the window/level (WW/WL) in real-time.","Given an image is open, When I use the mouse wheel or a zoom tool, Then I can smoothly zoom in and out of the image.","Given an image is open, When I use the pan tool, Then I can click and drag to move the image within the viewport.",WI-023,"Code reviewed and peer-approved; All acceptance criteria are met and validated; All tools (zoom, pan, WW/WL, rotate, flip) function correctly and intuitively; WW/WL presets are available and apply correctly; Feature is deployed and verified in the staging environment."
US-014,"EPIC-006: DICOM Viewer Implementation",Create and Save Annotations and Measurements,Technician,"As a Technician, I want to add non-destructive annotations (arrows, text) and measurements (length, angle) to images and save them, so that I can highlight findings and persist them for later review.",Should Have,13,US-012,"Given an image is open, When I select the 'length measurement' tool and draw a line, Then the line is displayed on the image along with its calculated length in real-world units (e.g., mm).","Given I have created several annotations and measurements, When I click a 'Save Annotations' button, Then the system creates a new DICOM Grayscale Softcopy Presentation State (GSPS) object for the series without modifying the original image files.","Given a series with a saved GSPS object is opened, When the images are displayed, Then the previously saved annotations and measurements are automatically loaded and displayed on the correct images.",WI-024; WI-025,"Code reviewed and peer-approved; All acceptance criteria are met and validated; Annotations and measurements are accurate; GSPS objects are created and loaded correctly; The original DICOM files are never modified by this process; Feature is deployed and verified in the staging environment."
US-015,"EPIC-007: Printing & PDF Export Subsystem",Configure and Preview a Print Job,Technician,"As a Technician, I want to access a print preview screen where I can select page layouts, arrange images, and configure page settings, so that I have full control over the final printed output.",Must Have,8,US-012,"Given I have selected images to print, When I open the print preview, Then I can select from a list of predefined page layouts (e.g., '2x2 grid on A4') and the preview updates accordingly.","Given a grid layout is selected, When I drag and drop an image from one cell to another, Then the image positions are swapped in the preview.","Given I am in the print preview, When I change settings like page orientation or margins, Then the preview canvas updates immediately to reflect the new layout.",WI-026,"Code reviewed and peer-approved; All acceptance criteria are met and validated; The print preview accurately reflects the final output; All layout and configuration options work as expected; Drag-and-drop functionality is smooth and intuitive; Feature is deployed and verified in the staging environment."
US-016,"EPIC-007: Printing & PDF Export Subsystem",Submit and Process Print Jobs Asynchronously,Technician,"As a Technician, I want to submit my configured print job to a background service, so that the application remains responsive and I can continue working while the job is processed.",Must Have,8,US-005; US-015,"Given I have configured a layout in the print preview and the background service is running, When I click 'Print', Then the job is sent to a RabbitMQ queue and a notification confirms it has been queued.","Given a print job has been sent to the queue, When the background service consumes the message, Then it generates the document and spools it to the correct Windows printer.","Given a print job is being processed, When an error occurs (e.g., printer is offline), Then the job status is marked as 'Failed' in the database and the print queue UI.",WI-027; WI-028,"Code reviewed and peer-approved; All acceptance criteria are met and validated; Jobs are successfully transmitted via RabbitMQ; The background service correctly prints the job; Error handling is robust and provides user feedback; Feature is deployed and verified in the staging environment."
US-017,"EPIC-007: Printing & PDF Export Subsystem",Export Print Layout as a Secure PDF,Technician,"As a Technician, I want to export the print preview layout as a secure, compliant PDF file, so that I can create a digital, portable copy for sharing or archiving.",Should Have,8,US-015,"Given I have configured a layout in the print preview, When I click 'Export to PDF', Then a background job is created to generate a PDF file that matches the preview.","Given I choose to export as a PDF, When I provide a password in the export options, Then the resulting PDF file is encrypted with AES-256 and requires the password to be opened.","Given a PDF is generated, When I inspect its properties, Then it is compliant with the PDF/A-3 standard.",WI-029,"Code reviewed and peer-approved; All acceptance criteria are met and validated; The generated PDF accurately matches the print preview; PDF/A-3 compliance and AES-256 encryption are implemented correctly; The export process is handled asynchronously; Feature is deployed and verified in the staging environment."
US-018,"EPIC-011: Deployment & Installation",Install the Application via MSIX Installer,Administrator,"As an Administrator, I want to install the application using a signed MSIX package, so that deployment is simple, secure, and correctly registers the background Windows Service.",Must Have,5,,"Given I run the MSIX installer file, When the installation process begins, Then it completes successfully without errors on a supported Windows version.","Given the installation is complete, When I check the Windows Services list, Then the 'DICOM Service' is present, set to start automatically, and is running.","Given the installation is complete, When I launch the application from the Start Menu, Then the WPF client application opens to the login or first-run configuration screen.",WI-038,"Code reviewed and peer-approved; All acceptance criteria are met and validated; The MSIX package installs and uninstalls cleanly; The Windows Service is correctly registered and started; The application is properly signed with a code signing certificate; Feature is deployed and verified in the staging environment."
US-019,"EPIC-011: Deployment & Installation",Verify Prerequisites During First-Run Setup,Administrator,"As an Administrator, I want the application to verify its dependencies (PostgreSQL, RabbitMQ) on the first run, so that I can ensure it is configured correctly before users begin to access it.",Must Have,8,US-018,"Given I am running the application for the first time after installation, When the application starts, Then I am presented with a setup screen asking for PostgreSQL and RabbitMQ connection details.","Given I am on the setup screen, When I enter invalid connection details and try to proceed, Then an error message is displayed, and I am prevented from completing the setup.","Given I provide a valid PostgreSQL connection but the `pgcrypto` extension is not enabled, When I test the connection, Then a specific error message informs me that the extension is required.",WI-039,"Code reviewed and peer-approved; All acceptance criteria are met and validated; The prerequisite checks are robust and provide clear, actionable feedback for all failure scenarios; The application does not proceed to normal operation until all checks pass; Feature is deployed and verified in the staging environment."
US-020,"EPIC-001: Core Application & Service Framework",Ensure Secure Storage of Credentials,Administrator,"As an Administrator, I want the application to store all sensitive credentials like database passwords securely, so that our system is protected against unauthorized access from plaintext configuration files.",Must Have,8,US-019,"Given the application needs to connect to the database, When it retrieves the database password, Then it reads it from the secure Windows Credential Manager, not from a config file.","Given I inspect the application's configuration files (e.g., appsettings.json), When I search for passwords or secrets, Then no sensitive credentials are found in plaintext.","Given the application is running, When it connects to external services (DB, SMTP), Then it successfully authenticates using the securely stored credentials.",WI-005,"Code reviewed and peer-approved; All acceptance criteria are met and validated; A security review confirms no secrets are stored in plaintext; The application functions correctly using credentials loaded from the Windows Credential Manager; Feature is deployed and verified in the staging environment."
US-021,"EPIC-002: Inter-Process Communication (IPC) Backbone",Ensure Reliable Asynchronous Messaging,Developer,"As a Developer, I want critical messages to be durable and persistent, with a dead-lettering mechanism, so that the system is resilient to service restarts and can handle message processing failures gracefully.",Must Have,8,,"Given a critical message (e.g., a print job) is published to RabbitMQ, When the RabbitMQ broker is restarted, Then the message is not lost and is available for consumption after the restart.","Given a message in a main processing queue fails processing a configurable number of times, When the consumer rejects the message for the final time, Then the message is automatically routed to a corresponding Dead-Letter Queue (DLQ).","Given a message has been moved to the DLQ, When I inspect the DLQ using RabbitMQ's management tools, Then the failed message is present and available for manual inspection.",WI-008,"Code reviewed and peer-approved; All acceptance criteria are met and validated through integration testing; Durability of queues and persistence of messages are confirmed; The DLX/DLQ mechanism works as expected for poison messages; Feature is deployed and verified in the staging environment."
US-022,"EPIC-001: Core Application & Service Framework",Redact Sensitive Information in Logs,Administrator,"As an Administrator, I want the system to automatically redact Protected Health Information (PHI) from all log files, so that we can use logs for troubleshooting without violating patient privacy or HIPAA rules.",Must Have,5,,"Given a system operation involves a patient's name (e.g., opening a study), When the operation is logged, Then the patient's name in the log message is replaced with a placeholder like '[REDACTED]'.","Given a DICOM operation involving a Patient ID is logged, When I view the log entry in the rolling text file or Windows Event Log, Then the Patient ID value is masked or redacted.","Given the logging system is active, When various operations are performed, Then no PHI is ever written in plaintext to any log destination.",WI-004,"Code reviewed and peer-approved; All acceptance criteria are met and validated; A review of log outputs confirms successful redaction of all defined PHI fields; The redaction logic does not significantly impact logging performance; Feature is deployed and verified in the staging environment."