<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Main Application Shell</title>
  <style>
    /* CSS Reset */
    *, *::before, *::after {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
   
    /* Design System Foundation (as CSS Custom Properties) */
    :root {
      /* Typography */
      --font-family-primary: 'Roboto', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
      --font-size-h2: 24px;
      --font-weight-medium: 500;
      --font-size-body: 16px;
      --font-weight-regular: 400;
      --font-size-caption: 14px;

      /* Colors */
      --color-primary-50: #E8EAF6;
      --color-primary-500: #3F51B5;
      --color-primary-600: #3949AB;
      --color-primary-700: #303F9F;
      --color-neutral-white: #FFFFFF;
      --color-neutral-gray-50: #FAFAFA;
      --color-neutral-gray-100: #F5F5F5;
      --color-neutral-gray-500: #9E9E9E;
      --color-neutral-gray-900: #212121;
      --color-semantic-error: #F44336;

      /* Spacing */
      --spacing-xs: 4px;
      --spacing-sm: 8px;
      --spacing-md: 16px;
      --spacing-lg: 24px;
      --spacing-xl: 32px;

      /* Shadows */
      --shadow-2dp: 0 2px 4px rgba(0,0,0,0.12);
      --shadow-4dp: 0 4px 8px rgba(0,0,0,0.15);

      /* Transitions */
      --transition-speed: 0.2s;
      
      /* Layout specific */
      --sidebar-width-expanded: 240px;
      --sidebar-width-collapsed: 64px;
    }

    /* Base Styles */
    body {
      font-family: var(--font-family-primary);
      font-size: var(--font-size-body);
      color: var(--color-neutral-gray-900);
      background-color: var(--color-neutral-gray-100);
      overflow: hidden;
      height: 100vh;
      width: 100vw;
    }

    a {
      text-decoration: none;
      color: inherit;
    }

    ul {
      list-style: none;
    }
    
    /* Main Application Shell Layout */
    .app-shell {
      display: flex;
      height: 100vh;
    }

    /* Sidebar Navigation Component */
    .app-sidebar {
      width: var(--sidebar-width-expanded);
      background-color: var(--color-neutral-gray-50);
      border-right: 1px solid #E0E0E0;
      display: flex;
      flex-direction: column;
      flex-shrink: 0;
      transition: width var(--transition-speed) ease-in-out;
      overflow: hidden;
    }

    .app-shell.is-collapsed .app-sidebar {
      width: var(--sidebar-width-collapsed);
    }

    .sidebar-header {
      display: flex;
      align-items: center;
      padding: 0 var(--spacing-md);
      height: 64px;
      flex-shrink: 0;
      gap: var(--spacing-sm);
    }
    
    .sidebar-header__logo {
        color: var(--color-primary-500);
        flex-shrink: 0;
    }
    
    .sidebar-header__title {
        font-size: 20px;
        font-weight: var(--font-weight-medium);
        white-space: nowrap;
        opacity: 1;
        transition: opacity var(--transition-speed) ease-in-out;
    }

    .app-shell.is-collapsed .sidebar-header__title {
        opacity: 0;
    }

    .sidebar-nav {
      flex-grow: 1;
      padding-top: var(--spacing-sm);
    }
    
    .sidebar-nav__list {
        padding: 0 var(--spacing-sm);
    }

    .sidebar-nav__item a {
      display: flex;
      align-items: center;
      gap: var(--spacing-md);
      padding: 12px var(--spacing-md);
      border-radius: 4px;
      margin-bottom: var(--spacing-xs);
      color: #424242; /* Slightly darker than gray 500 */
      font-weight: var(--font-weight-medium);
      white-space: nowrap;
      position: relative;
    }
    
    .sidebar-nav__item a:hover {
        background-color: var(--color-primary-50);
    }

    .sidebar-nav__item a.is-active {
      background-color: var(--color-primary-50);
      color: var(--color-primary-700);
    }

    .sidebar-nav__item a.is-active::before {
        content: '';
        position: absolute;
        left: 0;
        top: 8px;
        bottom: 8px;
        width: 3px;
        background-color: var(--color-primary-500);
        border-radius: 0 2px 2px 0;
    }

    .sidebar-nav__icon {
      flex-shrink: 0;
      width: 24px;
      height: 24px;
    }
    
    .sidebar-nav__text {
        opacity: 1;
        transition: opacity var(--transition-speed) ease-in-out;
    }
    
    .app-shell.is-collapsed .sidebar-nav__text {
        opacity: 0;
    }

    .sidebar-footer {
      padding: var(--spacing-md);
      border-top: 1px solid #E0E0E0;
      flex-shrink: 0;
    }

    .sidebar-footer__toggle {
      display: flex;
      width: 100%;
      align-items: center;
      justify-content: center;
      padding: 8px;
      border: none;
      background: none;
      cursor: pointer;
      border-radius: 4px;
    }

    .sidebar-footer__toggle:hover {
      background-color: var(--color-neutral-gray-100);
    }
    
    .sidebar-footer__toggle:focus-visible {
        outline: 2px solid var(--color-primary-700);
        outline-offset: 2px;
    }
    
    .sidebar-footer__toggle .icon-collapse,
    .app-shell.is-collapsed .sidebar-footer__toggle .icon-expand {
      display: block;
    }

    .sidebar-footer__toggle .icon-expand,
    .app-shell.is-collapsed .sidebar-footer__toggle .icon-collapse {
      display: none;
    }


    /* Content Presenter */
    .app-content {
      flex-grow: 1;
      padding: var(--spacing-xl);
      overflow-y: auto;
    }

    .content-placeholder {
        background-color: var(--color-neutral-white);
        border-radius: 4px;
        padding: var(--spacing-lg);
        box-shadow: var(--shadow-2dp);
        height: 100%;
    }
    
    .content-placeholder h2 {
        font-size: var(--font-size-h2);
        font-weight: var(--font-weight-medium);
        margin-bottom: var(--spacing-md);
        padding-bottom: var(--spacing-md);
        border-bottom: 1px solid #E0E0E0;
    }
    
    .content-placeholder p {
        line-height: 1.6;
        max-width: 80ch;
        margin-bottom: var(--spacing-md);
    }
  </style>
</head>
<body>
  
  <div class="app-shell" id="app-shell">
    <aside class="app-sidebar" role="navigation" aria-label="Main Navigation">
        <div class="sidebar-header">
            <svg class="sidebar-header__logo" width="32" height="32" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z"/>
            </svg>
            <span class="sidebar-header__title">DICOM App</span>
        </div>

        <nav class="sidebar-nav">
            <ul class="sidebar-nav__list">
                <li class="sidebar-nav__item">
                    <a href="#" class="is-active" aria-current="page">
                        <svg class="sidebar-nav__icon" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8h5z"/></svg>
                        <span class="sidebar-nav__text">Dashboard</span>
                    </a>
                </li>
                <li class="sidebar-nav__item">
                    <a href="#">
                        <svg class="sidebar-nav__icon" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM4 18V6h16v12H4zm6-7h4v2h-4v-2zm-4 4h12v2H6v-2zm0-8h12v2H6V6z"/></svg>
                        <span class="sidebar-nav__text">Study Browser</span>
                    </a>
                </li>
                <li class="sidebar-nav__item">
                    <a href="#">
                        <svg class="sidebar-nav__icon" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z"/></svg>
                        <span class="sidebar-nav__text">Administration</span>
                    </a>
                </li>
            </ul>
        </nav>

        <div class="sidebar-footer">
            <button class="sidebar-footer__toggle" id="sidebar-toggle" aria-label="Collapse sidebar">
                <svg class="icon-collapse" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 18l-6-6 6-6"/></svg>
                <svg class="icon-expand" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 18l6-6-6-6"/></svg>
            </button>
        </div>
    </aside>
    
    <main class="app-content" role="main">
        <div class="content-placeholder">
            <h2>Dashboard</h2>
            <p>This is the main content area where the selected view from the sidebar will be rendered. For this mockup, it's a simple placeholder showing the Dashboard view is active.</p>
            <p>The final implementation will use a content control or frame to host different user controls or pages corresponding to each navigation item.</p>
        </div>
    </main>
  </div>
  
  <div class="screen-variations" style="display: none;">
    <h2>Screen Variations</h2>
    
    <div class="variation-group">
      <h3>Variant Name: "Default (Expanded Sidebar)"</h3>
      <normal>This is the standard, default appearance of the application shell. The sidebar is fully expanded, showing both icons and text labels for clear navigation. This state is optimized for larger window sizes where screen real estate is plentiful.</normal>
    </div>
    
    <div class="variation-group">
      <h3>Variant Name: "Collapsed Sidebar"</h3>
      <normal>When the user clicks the toggle button or the window is resized below a certain threshold, the sidebar collapses to an icon-only mode. This maximizes the available space for the main content area, which is useful for detailed views like the DICOM viewer. Tooltips would appear on hover over the icons in a full implementation to aid discoverability.</normal>
    </div>
  </div>

  <script>
    const shell = document.getElementById('app-shell');
    const toggleBtn = document.getElementById('sidebar-toggle');
    const navLinks = document.querySelectorAll('.sidebar-nav__item a');

    // --- Sidebar Collapse/Expand Toggle ---
    toggleBtn.addEventListener('click', () => {
        const isCollapsed = shell.classList.toggle('is-collapsed');
        toggleBtn.setAttribute('aria-label', isCollapsed ? 'Expand sidebar' : 'Collapse sidebar');
    });

    // --- Navigation Active State Toggle (for demonstration) ---
    navLinks.forEach(link => {
        link.addEventListener('click', (event) => {
            event.preventDefault(); // Prevent default link behavior for mockup
            
            // Remove 'is-active' from all links
            navLinks.forEach(l => l.classList.remove('is-active'));
            navLinks.forEach(l => l.removeAttribute('aria-current'));
            
            // Add 'is-active' to the clicked link
            link.classList.add('is-active');
            link.setAttribute('aria-current', 'page');

            // Update placeholder content
            const viewName = link.querySelector('.sidebar-nav__text').textContent;
            document.querySelector('.content-placeholder h2').textContent = viewName;
            document.querySelector('.content-placeholder p').textContent = `This is the main content area showing the ${viewName} view is active.`;
        });
    });
  </script>
</body>
</html>